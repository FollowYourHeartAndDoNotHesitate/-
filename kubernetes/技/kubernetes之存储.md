# 存储

[TOC]

## 一、卷（Volume）

### 为什么需要卷？

Container中的文件，临时存放在磁盘上。由此给运行的应用程序带来如下问题：

- 容器崩溃时文件丢失，kubelet 会重新将容器以初始化的状态重新启动；

- 同一Pod 中运行多个容器，存在共享文件行为。

### 卷的核心是什么？

卷**核心**是一个目录，可存放数据，Pod中的容器可以访问卷中的数据。卷类型决定目录的如何形成、使用何种介质保存数以及目录中存放的内容。

### Docker与Kubernetes中的卷存在什么异同?

**Docker卷**

- 磁盘或其他容器内的一个目录；

- Docker提供卷驱动程序，功能非常有限。

**Kubernetes卷**

- 支持多种类型的卷；
- 临时卷类型生命周期与Pod相同；
- 持久卷比Pod的生命周期更长；
- 容器重启时，指定Pod任何类型的卷数据都会保存。

## 二、持久卷（Persistent Volume）